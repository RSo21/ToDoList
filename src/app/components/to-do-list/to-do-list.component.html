<div class="container">
  <p class="app-name">TO DO LIST</p>

  <div class="title-container">
      <mat-form-field class="title" appearance="fill">
          <mat-label>What needs to be done?</mat-label>
          <input matInput [(ngModel)]="todoTitle">
      </mat-form-field>
  </div>
  <div class="status-and-priority">
      <mat-form-field  class="status" appearance="fill">
          <mat-label>Status</mat-label>
          <mat-select [(ngModel)]="selectedValue" name="status">
            <mat-option *ngFor="let status of todoStatuses" [value]="status.value">
                    {{status.viewValue}}
            </mat-option>
          </mat-select>
        </mat-form-field>
        
        <mat-form-field class="priority" appearance="fill">
            <mat-label>Priority</mat-label>
            <mat-select [(ngModel)]="selectedValuePrior" name="priority">
                <mat-option  *ngFor="let priority of todoPriorities" [value]="priority.value">
                    {{priority.viewValue}}
                </mat-option>
            </mat-select>
        </mat-form-field>
  </div>
  <div class="description-container">
      <mat-form-field class="description" appearance="fill">
          <mat-label>Description</mat-label>
          <textarea matInput [(ngModel)]="todoDescription"></textarea>
      </mat-form-field>
  </div>
  <div class="date-container">
      <mat-form-field class="date" appearance="fill">
          <mat-label>Choose a date</mat-label>
          <input matInput [matDatepicker]="picker" [(ngModel)]="todoDate">
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>
  </div>

<div class="button-add-container">
    <button mat-raised-button color="primary" class="button-add" (click)="addTodo()">ADD</button>
</div>

<mat-card class="todos-container" *ngFor="let todo of todos">
    <div *ngIf="!todo.editing; else editingTodo">
        <mat-card-header>
          <!-- <input type="text" [(ngModel)]="todo.title">  -->
          <mat-card-title *ngIf="!todo.editing; else editingTodo" (click)="editTodo(todo)">{{ todo.title }}</mat-card-title>
          <mat-card-subtitle>PRIORITY: {{ todo.priority }}</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content class="content-app">
          <p>
            {{ todo.description }} 
          </p>
          <p>
            STATUS: {{ todo.status }} 
          </p>
          <p>
            Date: {{ todo.date }}
          </p>
        </mat-card-content>
        <mat-card-actions class="actions-btn">
          <button mat-raised-button color="primary" (click)="editTodo(todo)">EDIT</button>
          <button mat-raised-button color="primary" (click)="deleteTodo(todo.id)">DELETE</button>
        </mat-card-actions>
    </div>
</mat-card>
</div>